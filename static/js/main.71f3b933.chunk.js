(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),c=a.n(o),l=a(1);function s(e){var t=e.totalTasksCompleted,a=e.totalTasks;e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"text-center"},"What's Up you've complete ",t," of ",a," tasks"))}function i(e){var t=e.loading,a=e.setSearchValue;return r.a.createElement("form",{id:"form",className:"form"},r.a.createElement("input",{className:"form-control",onChange:function(e){a(e.target.value)},disabled:t,placeholder:"Buscar tarea",autoFocus:!0}))}function u(e){var t=e.children||e.render;return r.a.createElement("section",{className:"TodoList-container"},e.error&&e.onErrorLoad(),e.loading&&e.onLoading(),!e.loading&&!e.searchTasks.length&&!!e.totalTasks&&e.onEmptySearch(),!e.loading&&!e.totalTasks&&e.onEmptyTodos(),t&&!e.loading&&e.searchTasks.map(t))}function m(e){var t=e.task,a=e.changeCompleteTask,n=e.delTask,o=t.complete,c=t.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-warning mt-3 ".concat(o&&"alert-dark"," \n                             justify-content-between align-items-center d-flex"),role:"alert"},r.a.createElement("p",{className:"".concat(o&&"line-through")},c),r.a.createElement("h3",{className:"m-0"},r.a.createElement("i",{className:"fas fa-check-circle ".concat(o&&"fa-undo-alt"," \n                                  text-success m-1"),role:"button",onClick:a}),r.a.createElement("i",{className:"fas fa-minus-circle text-danger",role:"button",onClick:n}))))}function d(e){var t=e.setOpenModal,a=e.loading;return r.a.createElement("button",{className:"btn btn-primary w-100 mt-2","data-toggle":"modal","data-target":"#createModal",disabled:a,type:"buttom",onClick:function(){t(!0)},id:"sub_tareas"},"Crear tarea")}function f(e){return r.a.createElement("div",{className:"alert alert-warning mt-4",role:"alert"},"Crea una tarea :)")}function g(e){var t=e.searchText;return r.a.createElement("div",{className:"alert alert-warning mt-4",role:"alert"},"No hay resultados para ",t,"!")}var p=a(7),E=function e(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(p.a)(this,e),this.id=(new Date).valueOf(),this.text=t.trim(),this.complete=a},h=a(8),k=a.n(h);function v(e){var t=e.addTask,a=e.setOpenModal,n="";return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r=new E(n);t(r),a(!1),k.a.fire("","Save successfully!","success")}},r.a.createElement("textarea",{type:"text",onChange:function(e){return n=e.target.value},className:"form-control",placeholder:"Description task"}),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{type:"submit",className:"btn btn-success mt-3"},"Save changes")))}function T(e){var t=e.storageChange,a=e.setStorageChange,n=e.sincronizeTodos;return function(e){r.a.useEffect(function(){var t=function(t){"tasks"===t.key&&e(!0)};return window.addEventListener("storage",t),function(){window.removeEventListener("storage",t)}},[])}(a),t?r.a.createElement("div",{className:"alert alert-secondary mb-2 card"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},"there were some changes in your list tasks",r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return b(a,n)}},"Refresh changes"))):null}var b=function(e,t){e(!1),t()};a(23);function N(e){var t=e.setOpenModal,a=e.title,n=e.children;return c.a.createPortal(r.a.createElement("div",{className:"ModalBackground"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"text-dark",id:"exampleModalLongTitle"}," ",a," "),r.a.createElement("button",{type:"button",onClick:function(){return t(!1)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},n)))),document.getElementById("modal"))}function y(e){var t=e.children,a=e.loading,n=r.a.Children.toArray(t);return r.a.createElement("header",null,n.map(function(e){return r.a.cloneElement(e,{loading:a})}))}function C(e){var t=e.description;return r.a.createElement("div",{className:"alert alert-danger mt-4",role:"alert"},t)}a(25);function S(){return r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"lds-dual-ring mt-4"}))}var O=a(3);function w(){var e,t=r.a.useState(""),a=Object(l.a)(t,2),n=a[0],o=a[1],c=r.a.useState(!1),s=Object(l.a)(c,2),i=s[0],u=s[1],m=function(e,t){var a=r.a.useState(!1),n=Object(l.a)(a,2),o=n[0],c=n[1],s=r.a.useState(!0),i=Object(l.a)(s,2),u=i[0],m=i[1],d=r.a.useState(t),f=Object(l.a)(d,2),g=f[0],p=f[1],E=r.a.useState(!1),h=Object(l.a)(E,2),k=h[0],v=h[1];return r.a.useEffect(function(){setTimeout(function(){var a=localStorage.getItem(e);try{a?a=JSON.parse(a):(localStorage.setItem(e,JSON.stringify(t)),a=[]),p(a)}catch(n){console.error(n),c(!0)}m(!1),v(!1)},2e3)},[k]),{item:g,saveItem:function(e,t){localStorage.setItem(e,JSON.stringify(t)),p(t)},loading:u,error:o,sincronize:function(){m(!0),v(!0)}}}("tasks",[]),d=m.item,f=m.saveItem,g=m.loading,p=m.error,E=m.sincronize,h=d.length,k=d.filter(function(e){return e.complete}).length,v=Object(O.a)(d);e=d.filter(function(e){return e.text.toUpperCase().includes(n.toUpperCase())});return{setSearchValue:o,searchValue:n,loading:g,error:p,searchTasks:e,totalTasks:h,totalTasksCompleted:k,changeCompleteTask:function(e){(v=Object(O.a)(d))[e].complete=!d[e].complete,f("tasks",v)},delTask:function(e){(v=Object(O.a)(d)).splice(e,1),f("tasks",v)},openModal:i,setOpenModal:u,addTask:function(e){v.push(e),f("tasks",v)},sincronizeTodos:E}}a(27);function x(){var e=r.a.useState(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],o=w(),c=o.loading,p=o.error,E=o.searchTasks,h=o.changeCompleteTask,k=o.delTask,b=o.openModal,O=o.setOpenModal,x=o.totalTasksCompleted,j=o.totalTasks,M=o.searchValue,L=o.setSearchValue,I=o.addTask,z=o.sincronizeTodos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card ".concat(c&&"opacity-50"),disabled:a},r.a.createElement(y,{loading:c},r.a.createElement(s,{totalTasks:j,totalTasksCompleted:x}),r.a.createElement(i,{setSearchValue:L})),r.a.createElement(u,{error:p,loading:c,searchTasks:E,totalTasks:j,onErrorLoad:function(){return r.a.createElement(C,{description:"Upsss... hubo un al cargar las tareas!"})},onLoading:function(){return r.a.createElement(S,null)},onEmptyTodos:function(){return r.a.createElement(f,null)},onEmptySearch:function(){return r.a.createElement(g,{searchText:M})},render:function(e,t){return r.a.createElement(m,{key:e.id,task:e,changeCompleteTask:function(){return h(t)},delTask:function(){return k(t)}})}},function(e,t){return r.a.createElement(m,{key:e.id,task:e,changeCompleteTask:function(){return h(t)},delTask:function(){return k(t)}})}),r.a.createElement(d,{setOpenModal:O,loading:c}),b&&r.a.createElement(N,{title:"Create Task",setOpenModal:O},r.a.createElement(v,{addTask:I,setOpenModal:O}))),r.a.createElement(T,{storageChange:a,setStorageChange:n,sincronizeTodos:z}))}c.a.render(r.a.createElement(x,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(29)}},[[9,2,1]]]);
//# sourceMappingURL=main.71f3b933.chunk.js.map