(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{17:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(4),r=a.n(s),l=(a(17),a(6)),o=a(2);var i=a(0),d=c.a.createContext();function u(e){var t,a=c.a.useState(""),n=Object(o.a)(a,2),s=n[0],r=n[1],u=c.a.useState(!1),j=Object(o.a)(u,2),m=j[0],b=j[1],h=function(e,t){var a=c.a.useState(!1),n=Object(o.a)(a,2),s=n[0],r=n[1],l=c.a.useState(!0),i=Object(o.a)(l,2),d=i[0],u=i[1],j=c.a.useState(t),m=Object(o.a)(j,2),b=m[0],h=m[1];return c.a.useEffect((function(){setTimeout((function(){var a=localStorage.getItem(e);try{a?a=JSON.parse(a):(localStorage.setItem(e,JSON.stringify(t)),a=[]),h(a)}catch(n){console.error(n),r(!0)}u(!1)}),2e3)}),[]),{item:b,saveItem:function(e,t){localStorage.setItem(e,JSON.stringify(t)),h(t)},loading:d,error:s}}("tasks",[]),f=h.item,O=h.saveItem,x=h.loading,p=h.error,v=f.length,g=f.filter((function(e){return e.complete})).length,k=Object(l.a)(f);t=f.filter((function(e){return e.text.toUpperCase().includes(s.toUpperCase())}));return Object(i.jsx)(d.Provider,{value:{setSearchValue:r,loading:x,error:p,searchTasks:t,total:v,totalTasksCompleted:g,changeCompleteTask:function(e){(k=Object(l.a)(f))[e].complete=!f[e].complete,O("tasks",k)},delTask:function(e){(k=Object(l.a)(f)).splice(e,1),O("tasks",k)},openModal:m,setOpenModal:b,addTask:function(e){k.push(e),O("tasks",k)}},children:e.children})}a(19);function j(){return Object(i.jsx)(d.Consumer,{children:function(e){var t=e.totalTasksCompleted,a=e.total;return Object(i.jsxs)("h1",{className:"text-center",children:["What's Up you've complete ",t," of ",a," tasks"]})}})}function m(){var e=c.a.useContext(d),t=e.searchValue,a=e.setSearchValue;return Object(i.jsx)("form",{id:"form",className:"form",children:Object(i.jsx)("input",{className:"form-control",value:t,onChange:function(e){a(e.target.value)},placeholder:"Buscar tarea",autoFocus:!0})})}function b(e){return Object(i.jsx)("div",{children:e.children})}function h(e){var t=e.task,a=e.changeCompleteTask,n=e.delTask,c=t.complete,s=t.text;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"alert alert-warning mt-3 ".concat(c&&"alert-dark"," justify-content-between align-items-center d-flex"),role:"alert",children:[Object(i.jsx)("p",{className:"".concat(c&&"line-through"),children:s}),Object(i.jsxs)("h3",{className:"m-0",children:[Object(i.jsx)("i",{className:"fas fa-check-circle ".concat(c&&"fa-undo-alt"," \n                                  text-success m-1"),role:"button",onClick:a}),Object(i.jsx)("i",{className:"fas fa-minus-circle text-danger",role:"button",onClick:n})]})]})})}a(20);function f(e){var t=e.children,a=e.title,n=c.a.useContext(d).setOpenModal;return r.a.createPortal(Object(i.jsx)("div",{className:"ModalBackground",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsxs)("h5",{className:"text-dark",id:"exampleModalLongTitle",children:[" ",a," "]}),Object(i.jsx)("button",{type:"button",onClick:function(){return n(!1)},children:Object(i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(i.jsx)("div",{className:"modal-body",children:t})]})})}),document.getElementById("modal"))}function O(e){var t=e.setOpenModal;return Object(i.jsx)("button",{className:"btn btn-primary w-100 mt-2","data-toggle":"modal","data-target":"#createModal",type:"buttom",onClick:function(){t(!0)},id:"sub_tareas",children:"Crear tarea"})}var x=a(11),p=function e(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(x.a)(this,e),this.id=(new Date).valueOf(),this.text=t.trim(),this.complete=a},v=a(12),g=a.n(v);function k(){var e=c.a.useContext(d),t=e.addTask,a=e.setOpenModal,n="";return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=new p(n);t(c),a(!1),g.a.fire("","Save successfully!","success")},children:[Object(i.jsx)("textarea",{type:"text",onChange:function(e){return n=e.target.value},className:"form-control",placeholder:"Description task"}),Object(i.jsx)("div",{className:"d-flex justify-content-end",children:Object(i.jsx)("button",{type:"submit",className:"btn btn-success mt-3",children:"Save changes"})})]})}function N(){var e=c.a.useContext(d),t=e.loading,a=e.error,n=e.total,s=e.searchTasks,r=e.changeCompleteTask,l=e.delTask,o=e.openModal,u=e.setOpenModal;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("article",{className:"card",children:[Object(i.jsx)(j,{}),Object(i.jsx)(m,{}),Object(i.jsxs)(b,{children:[t&&Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("div",{className:"lds-dual-ring mt-4"})}),a&&Object(i.jsx)("div",{className:"alert alert-danger mt-4",role:"alert",children:"Upsss... hubo un al cargar las tareas!"}),!t&&!a&&0===n&&Object(i.jsx)("div",{className:"alert alert-info mt-4",role:"alert",children:"Crea una tarea :)"}),s.map((function(e,t){return Object(i.jsx)(h,{task:e,changeCompleteTask:function(){return r(t)},delTask:function(){return l(t)}},e.id)}))]}),Object(i.jsx)(O,{setOpenModal:u})]}),o&&Object(i.jsx)(f,{title:"Create Task",children:Object(i.jsx)(k,{})})]})}var C=function(e){return Object(i.jsx)(u,{children:Object(i.jsx)(N,{})})};r.a.render(Object(i.jsx)(C,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.816b5063.chunk.js.map